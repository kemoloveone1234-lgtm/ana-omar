<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>أنا عمر - عالم القصص</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --primary: #FF5722; --secondary: #4CAF50; --bg: #F5F7FA; }
        * { box-sizing: border-box; font-family: 'Noto Sans Arabic', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--bg); margin: 0; padding: 0; }

        /* تصغير الهيدر وتنسيقه */
        .header-main {
            width: 100%; height: 160px;
            background: linear-gradient(135deg, #FF5722, #FF9800);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border-radius: 0 0 25px 25px; color: white; box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        .header-main h1 { margin: 0; font-size: 22px; font-weight: 900; }
        .header-main p { margin: 5px 0 0; font-size: 13px; opacity: 0.9; }

        .container { padding: 12px; max-width: 480px; margin: auto; }

        /* الكروت: الصور تمتد بالكامل داخل الإطار */
        .card {
            background: white; border-radius: 18px; overflow: hidden;
            margin-bottom: 15px; border: none; box-shadow: 0 4px 10px rgba(0,0,0,0.06);
        }
        .card-img-container { width: 100%; height: 170px; overflow: hidden; }
        .card-img { width: 100%; height: 100%; object-fit: cover; display: block; }
        
        .card-info { padding: 12px; text-align: center; }
        .card-info h3 { margin: 0 0 8px; font-size: 17px; color: #333; }
        
        .btn-open {
            background: var(--secondary); color: white; border: none; padding: 10px 0;
            border-radius: 20px; font-size: 15px; font-weight: bold; cursor: pointer; width: 90%;
        }

        /* صفحة القراءة */
        .page { display: none; }
        .active { display: block; animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .nav-bar { padding: 10px 15px; background: white; display: flex; align-items: center; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 10; }
        .nav-bar h3 { flex: 1; text-align: center; margin: 0; font-size: 15px; color: #444; }

        .story-content { padding: 18px; font-size: 17px; line-height: 1.7; text-align: justify; color: #444; background: white; }

        /* التقييم بشكل أصغر */
        .rating-area {
            background: #fff; margin: 12px; padding: 15px; border-radius: 18px;
            text-align: center; border: 2px dashed #ddd;
        }
        .stars-container { margin: 8px 0; direction: ltr; }
        .stars-container i { font-size: 24px; color: #eee; cursor: pointer; margin: 0 2px; }
        .stars-container i.active { color: #FFD700; }
        
        .msg-thanks { color: var(--secondary); font-size: 13px; font-weight: bold; display: none; }
    </style>
</head>
<body>

<div id="home-page" class="page active">
    <div class="header-main">
        <i class="fas fa-child" style="font-size: 35px; margin-bottom: 5px;"></i>
        <h1>أنا عمر</h1>
        <p>مغامرات ذكية وممتعة</p>
    </div>
    <div class="container" id="list-container"></div>
</div>

<div id="reader-page" class="page">
    <div class="nav-bar">
        <i class="fas fa-chevron-right" onclick="goBack()" style="font-size: 18px; color: var(--primary); cursor: pointer;"></i>
        <h3 id="view-title"></h3>
    </div>
    <div style="width:100%; height:200px; overflow:hidden;">
        <img id="view-img" src="" style="width:100%; height:100%; object-fit:cover;">
    </div>
    <div id="view-text" class="story-content"></div>

    <div class="rating-area">
        <h3 style="font-size: 14px;">قيم القصة يا بطل</h3>
        <div class="stars-container">
            <i class="fas fa-star" onclick="giveRating(1)"></i>
            <i class="fas fa-star" onclick="giveRating(2)"></i>
            <i class="fas fa-star" onclick="giveRating(3)"></i>
            <i class="fas fa-star" onclick="giveRating(4)"></i>
            <i class="fas fa-star" onclick="giveRating(5)"></i>
        </div>
        <div id="thanks" class="msg-thanks">شكراً لك يا عمر! ✨</div>
        <button class="btn-open" style="margin-top:10px; background: var(--primary); width: 100%;" onclick="goBack()">رجوع</button>
    </div>
</div>

<script>
    const myStories = [
        { 
            id: 1, 
            t: 'عمر وسر الحروف', 
            i: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=500&q=80', 
            c: `في صباح جميل، استيقظ عمر ليجد كتابه المفضل فارغاً من الحروف! بدأ يبحث عنها في كل زاوية. وجد حرف الألف يختبئ تحت وسادته، وحرف الباء يلعب في المطبخ. ضحك عمر وجمع كل الحروف ليعيد كتابة أجمل القصص. تعلم عمر أن القراءة تجعلنا نرى العالم بشكل أجمل وأكبر.`
        },
        { 
            id: 2, 
            t: 'رحلة عمر للفضاء', 
            i: 'https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&fit=crop&w=500&q=80', 
            c: `صنع عمر صاروخاً كرتونياً رائعاً. وفجأة، وجد نفسه يطير بين النجوم! زار كوكب الألعاب حيث الروبوتات الودودة، وشاهد زحل بحلقاته الملونة. قال عمر: "سبحان الله ما أعظم هذا الكون!". عاد عمر لغرفته وهو يخطط لرحلته القادمة في خياله الواسع.`
        },
        { 
            id: 3, 
            t: 'عمر الصادق الأمين', 
            i: 'https://images.unsplash.com/photo-1532330393533-443990a51d10?auto=format&fit=crop&w=500&q=80', 
            c: `بينما كان عمر يلعب في الحديقة، وجد محفظة مفقودة. لم يتردد عمر لحظة، بل ذهب مسرعاً لوالده ليساعده في العثور على صاحبها. عندما عادت المحفظة لصاحبها، شكر عمر كثيراً ووصفه بالبطل. شعر عمر بسعادة غامرة لأن الصدق هو سر القوة الحقيقية.`
        }
    ];

    function showList() {
        const container = document.getElementById('list-container');
        container.innerHTML = "";
        myStories.forEach(s => {
            container.innerHTML += `
                <div class="card">
                    <div class="card-img-container">
                        <img src="${s.i}" class="card-img" alt="story image">
                    </div>
                    <div class="card-info">
                        <h3>${s.t}</h3>
                        <button class="btn-open" onclick="readNow(${s.id})">فتح القصة</button>
                    </div>
                </div>`;
        });
    }

    function readNow(id) {
        const story = myStories.find(x => x.id === id);
        document.getElementById('view-title').innerText = story.t;
        document.getElementById('view-img').src = story.i;
        document.getElementById('view-text').innerText = story.c;
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('reader-page').style.display = 'block';
        resetRating();
        window.scrollTo(0,0);
    }

    function goBack() {
        document.getElementById('reader-page').style.display = 'none';
        document.getElementById('home-page').style.display = 'block';
    }

    function giveRating(num) {
        const stars = document.querySelectorAll('.stars-container i');
        stars.forEach((s, index) => { s.classList.toggle('active', index < num); });
        document.getElementById('thanks').style.display = 'block';
    }

    function resetRating() {
        document.querySelectorAll('.stars-container i').forEach(s => s.classList.remove('active'));
        document.getElementById('thanks').style.display = 'none';
    }

    showList();
</script>

</body>
</html>
