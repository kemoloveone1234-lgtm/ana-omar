<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>أنا عمر - الإصدار النهائي</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --primary: #FF5722; --secondary: #4CAF50; --accent: #FF9800; --bg: #FDFDFD; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Noto Sans Arabic', sans-serif; }
        body { background-color: var(--bg); margin: 0; padding: 0; overflow-x: hidden; }

        /* الغلاف العلوي */
        .app-bar {
            width: 100%; height: 260px;
            background: linear-gradient(135deg, #FF5722, #FF9800);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border-radius: 0 0 50px 50px; color: white; box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .container { padding: 20px; max-width: 600px; margin: auto; }
        .category-title { font-size: 22px; font-weight: 900; margin: 30px 0 15px; display: flex; align-items: center; gap: 10px; border-right: 5px solid; padding-right: 10px; }

        .story-card {
            background: white; border-radius: 30px; overflow: hidden;
            margin-bottom: 25px; box-shadow: 0 8px 20px rgba(0,0,0,0.06);
            border: 1px solid #eee; transition: 0.3s;
        }
        .story-card:active { transform: scale(0.96); }
        .card-img { width: 100%; height: 210px; object-fit: cover; }
        .card-content { padding: 20px; text-align: center; }

        .btn-main {
            background: var(--secondary); color: white; border: none; padding: 14px 40px;
            border-radius: 50px; font-size: 20px; font-weight: 700; cursor: pointer; width: 100%;
        }

        /* صفحة القراءة */
        .page { display: none; }
        .active { display: block; animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .reader-header { padding: 15px; background: white; display: flex; align-items: center; position: sticky; top: 0; z-index: 100; border-bottom: 2px solid #eee; }
        .story-text { padding: 30px; font-size: 24px; line-height: 2; text-align: justify; color: #333; white-space: pre-line; }

        /* نظام التقييم */
        .rating-section { text-align: center; padding: 40px 20px; background: #f9f9f9; border-radius: 40px; margin: 20px; border: 2px dashed #ddd; }
        .stars { display: flex; justify-content: center; gap: 10px; margin-top: 15px; direction: ltr; }
        .fa-star { font-size: 35px; color: #ccc; cursor: pointer; transition: 0.2s; }
        .fa-star.active { color: #FFD700; transform: scale(1.2); }
    </style>
</head>
<body>

<div id="home" class="page active">
    <div class="app-bar">
        <i class="fas fa-smile-beam" style="font-size: 60px; margin-bottom: 10px;"></i>
        <h1 style="margin:0;">أنا عمر</h1>
        <p>مغامراتي الممتعة والجديدة</p>
    </div>

    <div class="container">
        <div id="stories-list"></div>
    </div>
</div>

<div id="reader" class="page">
    <div class="reader-header">
        <i class="fas fa-arrow-right" onclick="closeStory()" style="font-size: 28px; cursor: pointer; color: var(--primary);"></i>
        <h3 id="st-title" style="flex:1; text-align:center; margin:0;"></h3>
    </div>
    
    <img id="st-img" src="" style="width:100%; height:260px; object-fit:cover;">
    
    <div id="st-text" class="story-text"></div>

    <div class="rating-section">
        <h3>كيف وجدت القصة يا بطل؟</h3>
        <div class="stars">
            <i class="fas fa-star" onclick="rate(1)"></i>
            <i class="fas fa-star" onclick="rate(2)"></i>
            <i class="fas fa-star" onclick="rate(3)"></i>
            <i class="fas fa-star" onclick="rate(4)"></i>
            <i class="fas fa-star" onclick="rate(5)"></i>
        </div>
        <p id="rating-msg" style="margin-top:15px; font-weight:bold; color: var(--secondary); display:none;">شكراً لتقييمك يا ذكي! ✨</p>
        <button class="btn-main" style="margin-top:25px; background: var(--primary);" onclick="closeStory()">العودة للرئيسية</button>
    </div>
</div>

<script>
    const stories = [
        { id: 'edu', t: 'عمر وسر الحروف الضائعة', cat: 'تعليم', icon: 'pencil-alt', color: '#4CAF50', i: 'https://img.freepik.com/free-vector/cute-boy-reading-book-cartoon-vector-icon-illustration-people-education-icon-concept-isolated_138676-2107.jpg', c: 'في صباح يوم مشرق، استيقظ عمر ليجد شيئاً غريباً جداً.. لقد اختفت الحروف من كتابه المفضل! بدأ عمر بالبحث في كل مكان، تحت السرير وفي صندوق الألعاب، حتى سمع صوتاً ضاحكاً. قالت الحروف: نحن هنا يا عمر، أردنا أن نلعب معك! ضحك عمر وأمسك قلمه وبدأ يكتب الحروف واحداً تلو الآخر.' },
        { id: 'adv', t: 'عمر ورحلة الكواكب', cat: 'مغامرة', icon: 'rocket', color: '#FF9800', i: 'https://img.freepik.com/free-vector/cute-astronaut-flying-with-rocket-cartoon-vector-icon-illustration-science-technology-icon-concept_138676-2122.jpg', c: 'قرر عمر أن يصبح رائد فضاء شجاع. صنع صاروخاً من الكرتون، وبمجرد أن أغمض عينيه، طار الصاروخ عالياً! زار عمر كوكب السكاكر، حيث الجبال من الشوكولاتة، ثم طار إلى كوكب الألعاب. شاهد عمر الأرض من بعيد وقال: سبحان الله، ما أجمل هذا الكون!' },
        { id: 'friend', t: 'عمر وصديقه الروبوت', cat: 'صداقة', icon: 'robot', color: '#9C27B0', i: 'https://img.freepik.com/free-vector/cute-robot-mascot-cartoon-character_138676-3245.jpg', c: 'في يوم من الأيام، وجد عمر صندوقاً كبيراً أمام منزله. فتحه ليجد روبوتاً صغيراً يحتاج إلى مساعدة. أصلحه عمر وأطلق عليه اسم "زيزو". صار زيزو يساعد عمر في ترتيب غرفته ويحكي له قصصاً عن كواكب بعيدة. تعلم عمر أن الصداقة كنز ثمين!' },
        { id: 'health', t: 'عمر وبطل النظافة', cat: 'صحة', icon: 'soap', color: '#00BCD4', i: 'https://img.freepik.com/free-vector/boy-washing-hands-cartoon-vector-illustration-hygiene-concept_138676-2041.jpg', c: 'كان عمر يحب اللعب، لكنه كان ينسى غسل يديه. أخبرته المعلمة عن أهمية النظافة لمحاربة الجراثيم. قرر عمر أن يكون "بطل النظافة"، فصار يغسل يديه بالماء والصابون جيداً قبل الأكل وبعد اللعب. شعر عمر بنشاط وقوة أكبر!' }
    ];

    function loadStories() {
        const list = document.getElementById('stories-list');
        stories.forEach(s => {
            list.innerHTML += `
                <div class="category-title" style="color: ${s.color}; border-color: ${s.color};"><i class="fas fa-${s.icon}"></i> ${s.cat}</div>
                <div class="story-card">
                    <img src="${s.i}" class="card-img">
                    <div class="card-content">
                        <h3>${s.t}</h3>
                        <button class="btn-main" style="background:${s.color};" onclick="openStory('${s.id}')">اقرأ الآن</button>
                    </div>
                </div>`;
        });
    }

    function openStory(id) {
        const s = stories.find(item => item.id === id);
        document.getElementById('st-title').innerText = s.t;
        document.getElementById('st-img').src = s.i;
        document.getElementById('st-text').innerText = s.c;
        document.getElementById('home').style.display = 'none';
        document.getElementById('reader').style.display = 'block';
        resetRating();
        window.scrollTo(0,0);
    }

    function closeStory() {
        document.getElementById('reader').style.display = 'none';
        document.getElementById('home').style.display = 'block';
    }

    function rate(n) {
        const stars = document.querySelectorAll('.fa-star');
        stars.forEach((s, idx) => {
            s.classList.toggle('active', idx < n);
        });
        document.getElementById('rating-msg').style.display = 'block';
    }

    function resetRating() {
        document.querySelectorAll('.fa-star').forEach(s => s.classList.remove('active'));
        document.getElementById('rating-msg').style.display = 'none';
    }

    loadStories();
</script>

</body>
</html>
