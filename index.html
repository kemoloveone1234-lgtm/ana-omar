<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ana-omar | Ù‚ØµØµ Ø§Ù„Ø£Ø·ÙØ§Ù„</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Tahoma;background:#fff7e6;direction:rtl}
header{background:#ff9800;color:#fff;text-align:center;padding:12px;font-size:20px}
nav{display:flex;justify-content:space-around;background:#ffe0b2;padding:8px}
nav button{font-size:14px;padding:6px 10px;border:none;background:#ff9800;color:#fff;border-radius:4px}
section{display:none;padding:15px}
section.active{display:block}
.story{background:#fff;padding:10px;margin-bottom:10px;border-radius:6px}
.story img{max-width:100%;border-radius:6px}
input,textarea,select{width:100%;margin:5px 0;padding:6px}
.small-btn{font-size:12px;padding:4px 6px;margin:2px}
.star{font-size:18px;cursor:pointer;color:#ccc}
.star.active{color:#ff9800}
.center{max-width:360px;margin:80px auto;background:#fff;padding:15px;border-radius:8px}
footer{text-align:center;font-size:13px;color:#666;margin:20px 0}
</style>
</head>

<body>

<!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
<div id="login" class="center">
<h3>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
<input id="name" placeholder="Ø§Ù„Ø§Ø³Ù…">
<input id="email" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
<input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
<input id="pass2" type="password" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
<button onclick="register()">ØªØ³Ø¬ÙŠÙ„</button>
</div>

<!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
<div id="app" style="display:none">

<header>
ana-omar | Ù…Ø±Ø­Ø¨Ù‹Ø§ <span id="user"></span>
</header>

<nav>
<button onclick="show('edu')">ØªØ¹Ù„ÙŠÙ…ÙŠØ©</button>
<button onclick="show('adv')">Ù…ØºØ§Ù…Ø±Ø§Øª</button>
<button onclick="show('moral')">Ù‡Ø§Ø¯ÙØ©</button>
<button onclick="show('admin')">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</nav>

<section id="edu"></section>
<section id="adv"></section>
<section id="moral"></section>

<section id="admin">
<h3>Ø¥Ø¶Ø§ÙØ© Ù‚ØµØ©</h3>
<input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚ØµØ©">
<textarea id="content" placeholder="ÙˆØµÙ Ù…Ø®ØªØµØ±"></textarea>
<input id="image" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© ÙƒØ±ØªÙˆÙ†ÙŠØ©">
<input type="file" id="pdf" accept="application/pdf">
<input id="price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡">
<select id="type">
<option value="edu">ØªØ¹Ù„ÙŠÙ…ÙŠØ©</option>
<option value="adv">Ù…ØºØ§Ù…Ø±Ø§Øª</option>
<option value="moral">Ù‡Ø§Ø¯ÙØ©</option>
</select>
<button onclick="addStory()">Ø­ÙØ¸ Ø§Ù„Ù‚ØµØ©</button>
</section>

<footer>
Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ù…Ø¤Ù„Ù Ù…Ø­Ù…Ø¯ ÙØªØ­ÙŠ Â©2026
</footer>

</div>

<script>
/* ===== Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ===== */
let savedUser=JSON.parse(localStorage.getItem("user"));
if(savedUser){
login.style.display="none";
app.style.display="block";
user.innerText=savedUser.name;
}

function register(){
if(!name.value||!email.value||!pass.value||!pass2.value){
alert("Ø§ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");return;
}
if(pass.value!==pass2.value){
alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©");return;
}
localStorage.setItem("user",JSON.stringify({
name:name.value,
email:email.value
}));
login.style.display="none";
app.style.display="block";
user.innerText=name.value;
}

/* ===== Ø§Ù„Ù‚ØµØµ ===== */
let stories=JSON.parse(localStorage.getItem("stories")) || [
{
id:1,type:"edu",title:"Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¬Ù…ÙŠÙ„Ø©",
content:"ØªØ¹Ù„Ù… Ø¹Ù…Ø± Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù…ØªØ¹Ø©",
image:"https://i.imgur.com/4AiXzf8.png",
price:0,pdf:"",rate:3
},
{
id:2,type:"adv",title:"Ù…ØºØ§Ù…Ø±Ø© Ø¹Ù…Ø± ÙÙŠ Ø§Ù„ØºØ§Ø¨Ø©",
content:"Ø¹Ù…Ø± ÙŠÙƒØªØ´Ù Ø§Ù„ØºØ§Ø¨Ø© ÙˆÙŠØªØ¹Ù„Ù… Ø§Ù„Ø´Ø¬Ø§Ø¹Ø©",
image:"https://i.imgur.com/ZXBtVw7.png",
price:0,pdf:"",rate:4
},
{
id:3,type:"moral",title:"Ø§Ù„ØµØ¯Ù‚ Ù…ÙØªØ§Ø­ Ø§Ù„Ù†Ø¬Ø§Ø­",
content:"Ù‚ØµØ© ØªØ¹Ù„Ù… Ø§Ù„Ø·ÙÙ„ Ø£Ù‡Ù…ÙŠØ© Ø§Ù„ØµØ¯Ù‚",
image:"https://i.imgur.com/Vz8QWQ0.png",
price:0,pdf:"",rate:5
}
];

localStorage.setItem("stories",JSON.stringify(stories));

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
render();
}

function addStory(){
let file=pdf.files[0];
if(!file){alert("Ø§Ø±ÙØ¹ Ù…Ù„Ù PDF");return;}
let reader=new FileReader();
reader.onload=function(){
stories.push({
id:Date.now(),
title:title.value,
content:content.value,
image:image.value,
price:price.value,
type:type.value,
pdf:reader.result,
rate:0
});
localStorage.setItem("stories",JSON.stringify(stories));
alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù‚ØµØ©");
title.value=content.value=image.value=price.value="";
render();
}
reader.readAsDataURL(file);
}

function rate(id,val){
stories.find(s=>s.id===id).rate=val;
localStorage.setItem("stories",JSON.stringify(stories));
render();
}

function render(){
["edu","adv","moral"].forEach(t=>{
let box=document.getElementById(t);
box.innerHTML="";
stories.filter(s=>s.type===t).forEach(s=>{
box.innerHTML+=`
<div class="story">
<h4>${s.title}</h4>
<img src="${s.image}">
<p>${s.content}</p>
<button class="small-btn" onclick="${s.pdf?`window.open('${s.pdf}')`:`alert('Ù‚ØµØ© Ù…Ø¬Ø§Ù†ÙŠØ©')`}">ğŸ“– Ø§Ù‚Ø±Ø£</button>
<div>
${[1,2,3,4,5].map(i=>`
<span class="star ${i<=s.rate?'active':''}" onclick="rate(${s.id},${i})">â˜…</span>
`).join("")}
</div>
</div>`;
});
});
}

show("edu");
</script>

</body>
</html>
