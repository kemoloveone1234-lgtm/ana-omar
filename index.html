<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ana-omar | Ø¹Ø§Ù„Ù… Ù‚ØµØµ Ø§Ù„Ø£Ø·ÙØ§Ù„</title>
    
    <!-- Ø®Ø·ÙˆØ· ÙˆØ£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ© -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&family=Noto+Sans+Arabic:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #ff9800;
            --secondary: #4CAF50;
            --bg: #fff7e6;
            --text: #333;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; font-family: 'Noto Sans Arabic', sans-serif; background: var(--bg); color: var(--text); direction: rtl; }

        /* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        .login-screen {
            max-width: 400px; margin: 100px auto; padding: 30px;
            background: #fff; border-radius: 30px; text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .login-screen h3 { font-family: 'Cairo'; color: var(--primary); font-size: 28px; }
        .login-screen input { width: 100%; padding: 15px; margin: 10px 0; border-radius: 15px; border: 1px solid #ddd; font-size: 16px; }
        .login-screen button { width: 100%; padding: 15px; border: none; background: var(--primary); color: #fff; border-radius: 15px; font-size: 18px; font-weight: bold; cursor: pointer; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header { 
            background: var(--primary); color: #fff; padding: 20px; text-align: center; 
            border-radius: 0 0 40px 40px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        header h1 { margin: 0; font-family: 'Cairo'; font-size: 26px; }

        /* Ø§Ù„ØªÙ†Ù‚Ù„ - Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© */
        nav { 
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; 
            padding: 20px; max-width: 600px; margin: auto;
        }
        nav button { 
            padding: 15px; border: none; background: #fff; color: var(--primary); 
            border-radius: 20px; font-weight: bold; font-family: 'Cairo';
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); cursor: pointer; transition: 0.3s;
            display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        nav button.active { background: var(--primary); color: #fff; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        section { display: none; padding: 20px; max-width: 700px; margin: auto; animation: fadeIn 0.5s; }
        section.active { display: block; }

        /* Ø¹Ø±Ø¶ Ø§Ù„Ù‚ØµØµ Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ */
        .story-card { 
            background: #fff; border-radius: 30px; overflow: hidden; 
            margin-bottom: 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            text-align: center; border: 1px solid #eee;
        }
        .story-card img { width: 100%; height: 300px; object-fit: cover; }
        .story-card-body { padding: 20px; }
        .story-card h4 { font-family: 'Cairo'; font-size: 22px; margin: 10px 0; }
        .price-tag { color: var(--secondary); font-weight: 900; font-size: 20px; margin-bottom: 15px; display: block; }

        .btn-read { background: var(--secondary); color: #fff; border: none; padding: 12px 30px; border-radius: 50px; font-weight: bold; cursor: pointer; font-size: 16px; }
        .btn-del { color: #ff5252; background: none; border: none; margin-top: 15px; cursor: pointer; font-size: 14px; }

        /* Ø§Ù„Ù†Ø¬ÙˆÙ… */
        .stars { margin: 15px 0; font-size: 24px; }
        .star { cursor: pointer; color: #ccc; transition: 0.2s; }
        .star.active { color: #ff9800; }

        /* Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© */
        .admin-form { background: #fff; padding: 25px; border-radius: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        input, textarea, select { width: 100%; margin: 10px 0; padding: 12px; border-radius: 12px; border: 1px solid #ddd; font-family: inherit; }
        
        .pay-info { background: #fff3e0; padding: 15px; border-radius: 15px; border: 2px dashed var(--primary); margin-top: 20px; text-align: center; }

        footer { text-align: center; padding: 40px; color: #888; font-size: 14px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div id="login" class="login-screen">
    <i class="fas fa-child" style="font-size: 50px; color: var(--primary); margin-bottom: 15px;"></i>
    <h3>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ana-omar</h3>
    <p>Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„ØªØ¨Ø¯Ø£ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©</p>
    <input id="username" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„Ø¬Ù…ÙŠÙ„">
    <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button onclick="register()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†</button>
</div>

<div id="app" style="display:none">
    <header>
        <h1>ana-omar | Ù…Ø±Ø­Ø¨Ù‹Ø§ <span id="user"></span> ğŸ‘‹</h1>
    </header>

    <nav id="mainNav">
        <button id="btn-edu" onclick="show('edu')"><i class="fas fa-graduation-cap"></i> ØªØ¹Ù„ÙŠÙ…ÙŠØ©</button>
        <button id="btn-adv" onclick="show('adv')"><i class="fas fa-rocket"></i> Ù…ØºØ§Ù…Ø±Ø§Øª</button>
        <button id="btn-moral" onclick="show('moral')"><i class="fas fa-heart"></i> Ù‡Ø§Ø¯ÙØ©</button>
        <button id="btn-admin" onclick="show('admin')"><i class="fas fa-user-shield"></i> Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
    </nav>

    <section id="edu"></section>
    <section id="adv"></section>
    <section id="moral"></section>

    <section id="admin">
        <div class="admin-form">
            <h3>âœ¨ Ø¥Ø¶Ø§ÙØ© Ù‚ØµØ© Ø¬Ø¯ÙŠØ¯Ø©</h3>
            <input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚ØµØ©">
            <textarea id="content" placeholder="ÙˆØµÙ Ù…Ø´ÙˆÙ‚ Ù„Ù„Ù‚ØµØ©..."></textarea>
            <input id="image" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (ÙƒØ±ØªÙˆÙ†ÙŠØ©)">
            <label style="font-size:12px; color:gray;">Ø§Ø±ÙØ¹ Ù…Ù„Ù Ø§Ù„Ù‚ØµØ© (PDF):</label>
            <input type="file" id="pdf" accept="application/pdf">
            <input id="price" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡ Ø§Ù„Ù…ØµØ±ÙŠ)">
            <select id="type">
                <option value="edu">Ù‚Ø³Ù… Ø§Ù„Ù‚ØµØµ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</option>
                <option value="adv">Ù‚Ø³Ù… Ù‚ØµØµ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø§Øª</option>
                <option value="moral">Ù‚Ø³Ù… Ø§Ù„Ù‚ØµØµ Ø§Ù„Ù‡Ø§Ø¯ÙØ©</option>
            </select>
            <button onclick="addStory()" style="width:100%; background:var(--secondary); color:#fff; padding:15px; border:none; border-radius:15px; font-weight:bold; cursor:pointer;">Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„Ù‚ØµØ©</button>
        </div>

        <div class="pay-info">
            <h4>ğŸ’° Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h4>
            <p><i class="fas fa-mobile-alt"></i> ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´: <b>01063858006</b></p>
            <p><i class="fas fa-credit-card"></i> Ø¥Ù†Ø³ØªØ§Ø¨Ø§ÙŠ: <b>01063858006</b></p>
        </div>
    </section>

    <footer>
        Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ù…Ø¤Ù„Ù Ù…Ø­Ù…Ø¯ ÙØªØ­ÙŠ Â©2026<br>
        ØªØ·Ø¨ÙŠÙ‚ "Ø£Ù†Ø§ Ø¹Ù…Ø±" - Ø±Ø­Ù„Ø© ÙÙŠ Ø®ÙŠØ§Ù„ Ø§Ù„Ø£Ø·ÙØ§Ù„
    </footer>
</div>

<script>
/* ====== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ====== */
let currentUser = localStorage.getItem("user");
if(currentUser){
    document.getElementById("login").style.display="none";
    document.getElementById("app").style.display="block";
    document.getElementById("user").innerText = currentUser;
}

function register(){
    let userVal = document.getElementById("username").value;
    let passVal = document.getElementById("password").value;
    if(!userVal || !passVal){ alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©"); return; }
    localStorage.setItem("user", userVal);
    location.reload();
}

/* ====== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚ØµØµ ====== */
let stories = JSON.parse(localStorage.getItem("stories")) || [
    {
        id: 1, title: "Ø¹Ù…Ø± ÙˆØ§Ù„Ø³Ù„Ø­ÙØ§Ø©", content: "Ù‚ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¹Ù† Ø§Ù„ØµØ¨Ø± ÙˆØ§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù‡Ø¯Ù.",
        image: "https://cdn.pixabay.com/photo/2023/10/24/09/32/child-8337803_1280.png",
        price: 0, type: "edu", rate: 5, pdf: "#"
    }
];

function show(id){
    document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
    document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
    
    document.getElementById(id).classList.add("active");
    document.getElementById("btn-" + id).classList.add("active");
    render();
}

function addStory(){
    let title = document.getElementById("title").value;
    let content = document.getElementById("content").value;
    let image = document.getElementById("image").value;
    let price = document.getElementById("price").value;
    let type = document.getElementById("type").value;
    let file = document.getElementById("pdf").files[0];

    if(!title || !file){ alert("ØªØ£ÙƒØ¯ Ù…Ù† ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ±ÙØ¹ Ù…Ù„Ù PDF"); return; }

    let reader = new FileReader();
    reader.onload = function(){
        stories.push({
            id: Date.now(),
            title: title,
            content: content,
            image: image || "https://via.placeholder.com/400x300?text=Ana-Omar",
            price: price || 0,
            type: type,
            pdf: reader.result,
            rate: 0
        });
        localStorage.setItem("stories", JSON.stringify(stories));
        alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚ØµØ© Ø¨Ù†Ø¬Ø§Ø­!");
        show(type);
    }
    reader.readAsDataURL(file);
}

function del(id){
    if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù‚ØµØ©ØŸ")){
        stories = stories.filter(s => s.id !== id);
        localStorage.setItem("stories", JSON.stringify(stories));
        render();
    }
}

function rate(id, val){
    let story = stories.find(s => s.id === id);
    if(story){
        story.rate = val;
        localStorage.setItem("stories", JSON.stringify(stories));
        render();
    }
}

function render(){
    const types = ["edu", "adv", "moral"];
    types.forEach(t => {
        let box = document.getElementById(t);
        if(!box) return;
        box.innerHTML = `<h2 style="font-family:'Cairo'; text-align:center;">${t === 'edu' ? 'Ø§Ù„Ù‚ØµØµ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©' : t === 'adv' ? 'Ù‚ØµØµ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø§Øª' : 'Ø§Ù„Ù‚ØµØµ Ø§Ù„Ù‡Ø§Ø¯ÙØ©'}</h2>`;
        
        let filtered = stories.filter(s => s.type === t);
        if(filtered.length === 0){
            box.innerHTML += `<p style="text-align:center; color:gray;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚ØµØµ Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ØŒ Ø£Ø¶Ù Ù‚ØµØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©!</p>`;
        }

        filtered.forEach(s => {
            box.innerHTML += `
                <div class="story-card">
                    <img src="${s.image}" onerror="this.src='https://via.placeholder.com/400x300?text=Ana-Omar'">
                    <div class="story-card-body">
                        <h4>${s.title}</h4>
                        <span class="price-tag">${s.price > 0 ? s.price + ' Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ' : 'Ù…Ø¬Ø§Ù†Ù‹Ø§ Ø§Ù„Ø¢Ù†'}</span>
                        <p style="color:#666; font-size:14px;">${s.content}</p>
                        
                        <div class="stars">
                            ${[1,2,3,4,5].map(i => `
                                <i class="fas fa-star star ${i <= s.rate ? 'active' : ''}" onclick="rate(${s.id}, ${i})"></i>
                            `).join("")}
                        </div>

                        <button class="btn-read" onclick="readPDF('${s.pdf}')"><i class="fas fa-book-open"></i> Ø§Ù‚Ø±Ø£ Ø§Ù„Ù‚ØµØ©</button>
                        <br>
                        <button class="btn-del" onclick="del(${s.id})"><i class="fas fa-trash"></i> Ø­Ø°Ù Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
                    </div>
                </div>`;
        });
    });
}

function readPDF(data){
    if(data === "#"){ alert("Ù…Ù„Ù ØªØ¬Ø±ÙŠØ¨ÙŠØŒ ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ù…Ù„Ù PDF Ø­Ù‚ÙŠÙ‚ÙŠ"); return; }
    let win = window.open();
    win.document.write('<iframe src="' + data + '" frameborder="0" style="border:0; top:0; left:0; bottom:0; right:0; width:100%; height:100%;" allowfullscreen></iframe>');
}

// Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
show("edu");
</script>

</body>
</html>
